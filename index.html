<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A.T.L.A.S RTO - Workforce Matrix Report</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #8b7ab8 0%, #b896d9 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #8b7ab8 0%, #b896d9 100%);
            color: white;
            padding: 30px;
            border-bottom: 4px solid #ff6b6b;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .login-status {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            margin-top: 10px;
        }

        .login-status.authenticated {
            background: rgba(76, 175, 80, 0.3);
            color: #4caf50;
        }

        .main-content {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 0;
            min-height: 600px;
        }

        .sidebar {
            background: #f5f5f5;
            padding: 25px;
            border-right: 1px solid #ddd;
            max-height: 80vh;
            overflow-y: auto;
        }

        .sidebar-section {
            margin-bottom: 20px;
        }

        .sidebar-title {
            font-weight: 600;
            font-size: 12px;
            color: #666;
            text-transform: uppercase;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }

        .staff-selector {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 13px;
            margin-bottom: 12px;
        }

        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
        }

        .btn-primary {
            background: #8b7ab8;
            color: white;
        }

        .btn-primary:hover {
            background: #6b5a98;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(139,122,184,0.3);
        }

        .btn-secondary {
            background: #ff6b6b;
            color: white;
        }

        .btn-secondary:hover {
            background: #ff5252;
        }

        .btn-info {
            background: #4caf50;
            color: white;
        }

        .btn-info:hover {
            background: #45a049;
        }

        .content-panel {
            padding: 30px;
            overflow-y: auto;
            max-height: 80vh;
        }

        .panel-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #8b7ab8;
            border-bottom: 2px solid #b896d9;
            padding-bottom: 10px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-box {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #8b7ab8;
        }

        .info-label {
            font-size: 12px;
            color: #666;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 5px;
            letter-spacing: 0.5px;
        }

        .info-value {
            font-size: 16px;
            color: #333;
            font-weight: 500;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-valid {
            background: #d4edda;
            color: #155724;
        }

        .status-expired {
            background: #f8d7da;
            color: #721c24;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-active {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-inactive {
            background: #e2e3e5;
            color: #383d41;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal-header {
            background: linear-gradient(135deg, #8b7ab8 0%, #b896d9 100%);
            color: white;
            padding: 20px;
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-body {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
            font-size: 13px;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 13px;
            font-family: inherit;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #8b7ab8;
            box-shadow: 0 0 0 3px rgba(139,122,184,0.1);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: white;
        }

        .tabs {
            display: flex;
            gap: 0;
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 500;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab.active {
            color: #8b7ab8;
            border-bottom-color: #8b7ab8;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #999;
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .last-updated {
            font-size: 12px;
            color: #999;
            margin-top: 15px;
            text-align: right;
        }

        @media (max-width: 1024px) {
            .main-content { grid-template-columns: 1fr; }
            .sidebar { border-right: none; border-bottom: 1px solid #ddd; }
            .info-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚öôÔ∏è A.T.L.A.S RTO - Workforce Matrix Report</h1>
            <p>Connected to GitHub: JudyIrmisch | Token Enabled for Editing & Saving</p>
            <div class="login-status" id="loginStatus">üîê Not Authenticated</div>
        </div>

        <div class="main-content">
            <div class="sidebar">
                <div class="sidebar-section">
                    <div class="sidebar-title">üîê Authentication</div>
                    <button class="btn btn-primary" onclick="openLoginModal()" style="width: 100%;">Login to Edit</button>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-title">üë• Select Staff Member</div>
                    <select id="staffSelector" class="staff-selector" onchange="loadStaffMember()">
                        <option value="">-- Select Staff Member --</option>
                    </select>
                </div>

                <div class="sidebar-section">
                    <div class="sidebar-title">üìã Quick Actions</div>
                    <div class="action-buttons">
                        <button class="btn btn-info" onclick="openAddModal()">‚ûï Add Workforce</button>
                        <button class="btn btn-secondary" onclick="openDeleteModal()">üóëÔ∏è Delete Member</button>
                        <button class="btn btn-info" onclick="showChangeLog()">üìã Change Log</button>
                        <button class="btn btn-info" onclick="showExpiryReport()">üìä Expiry Reports</button>
                    </div>
                </div>
            </div>

            <div class="content-panel">
                <div id="emptyState" class="empty-state">
                    <div class="empty-state-icon">üë§</div>
                    <h3>Welcome to A.T.L.A.S Workforce Dashboard</h3>
                    <p style="margin-top: 10px;">Select a staff member from the sidebar to view their complete workforce profile (10 categories)</p>
                </div>

                <div id="staffDetails" style="display: none;">
                    <div class="panel-title" id="staffName">Staff Member Details</div>
                    
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab(0, this)">üìù Basic Info</button>
                        <button class="tab" onclick="switchTab(1, this)">üîí Police Check</button>
                        <button class="tab" onclick="switchTab(2, this)">üìã Insurance</button>
                        <button class="tab" onclick="switchTab(3, this)">‚ö†Ô∏è HRW Licence</button>
                        <button class="tab" onclick="switchTab(4, this)">üöó Driver Licence</button>
                        <button class="tab" onclick="switchTab(5, this)">üé´ Cards & Licences</button>
                        <button class="tab" onclick="switchTab(6, this)">üìÑ Forms</button>
                        <button class="tab" onclick="switchTab(7, this)">üéì Diplomas</button>
                        <button class="tab" onclick="switchTab(8, this)">üìú Certificates</button>
                        <button class="tab" onclick="switchTab(9, this)">‚úÖ SOA</button>
                    </div>

                    <div class="tab-content active"><div class="info-grid"><div class="info-box"><div class="info-label">First Name</div><div class="info-value" id="v-firstName">-</div></div><div class="info-box"><div class="info-label">Middle Name</div><div class="info-value" id="v-middleName">-</div></div><div class="info-box"><div class="info-label">Surname</div><div class="info-value" id="v-surname">-</div></div><div class="info-box"><div class="info-label">Date of Birth (dd-mmm-yyyy)</div><div class="info-value" id="v-dateOfBirth">-</div></div><div class="info-box"><div class="info-label">Workforce Type</div><div class="info-value" id="v-workforceType">-</div></div><div class="info-box"><div class="info-label">State</div><div class="info-value" id="v-state">-</div></div><div class="info-box"><div class="info-label">Team Status</div><div class="info-value" id="v-teamStatus">-</div></div><div class="info-box"><div class="info-label">Mobile Number</div><div class="info-value" id="v-mobileNumber">-</div></div><div class="info-box"><div class="info-label">Email</div><div class="info-value" id="v-email">-</div></div><div class="info-box"><div class="info-label">Address</div><div class="info-value" id="v-address">-</div></div></div></div>

                    <div class="tab-content"><div class="info-grid"><div class="info-box"><div class="info-label">Police Check Status</div><div class="info-value" id="v-pc-status">-</div></div><div class="info-box"><div class="info-label">Check Date (dd-mmm-yyyy)</div><div class="info-value" id="v-pc-checkDate">-</div></div><div class="info-box"><div class="info-label">Expiry Date (dd-mmm-yyyy)</div><div class="info-value" id="v-pc-expiryDate">-</div></div><div class="info-box"><div class="info-label">Result</div><div class="info-value" id="v-pc-result">-</div></div></div></div>

                    <div class="tab-content"><div class="info-grid"><div class="info-box"><div class="info-label">Indemnity Insurance</div><div class="info-value" id="v-ins-indemnity">-</div></div><div class="info-box"><div class="info-label">Indemnity Policy Number</div><div class="info-value" id="v-ins-indemnity-policy">-</div></div><div class="info-box"><div class="info-label">Indemnity Start Date (dd-mmm-yyyy)</div><div class="info-value" id="v-ins-indemnity-start">-</div></div><div class="info-box"><div class="info-label">Indemnity Expiry (dd-mmm-yyyy)</div><div class="info-value" id="v-ins-indemnity-expiry">-</div></div><div class="info-box"><div class="info-label">Liability Insurance</div><div class="info-value" id="v-ins-liability">-</div></div><div class="info-box"><div class="info-label">Liability Policy Number</div><div class="info-value" id="v-ins-liability-policy">-</div></div><div class="info-box"><div class="info-label">Liability Start Date (dd-mmm-yyyy)</div><div class="info-value" id="v-ins-liability-start">-</div></div><div class="info-box"><div class="info-label">Liability Expiry (dd-mmm-yyyy)</div><div class="info-value" id="v-ins-liability-expiry">-</div></div></div></div>

                    <div class="tab-content"><div class="info-grid"><div class="info-box"><div class="info-label">HRW Licence Number</div><div class="info-value" id="v-hrw-number">-</div></div><div class="info-box"><div class="info-label">HRW Name</div><div class="info-value" id="v-hrw-name">-</div></div><div class="info-box"><div class="info-label">Issuing State</div><div class="info-value" id="v-hrw-state">-</div></div><div class="info-box"><div class="info-label">Issue Date (dd-mmm-yyyy)</div><div class="info-value" id="v-hrw-issueDate">-</div></div><div class="info-box"><div class="info-label">Expiry Date (dd-mmm-yyyy)</div><div class="info-value" id="v-hrw-expiryDate">-</div></div><div class="info-box"><div class="info-label">HRW Classes</div><div class="info-value" id="v-hrw-classes">-</div></div></div></div>

                    <div class="tab-content"><div class="info-grid"><div class="info-box"><div class="info-label">Driver Licence Number</div><div class="info-value" id="v-dl-number">-</div></div><div class="info-box"><div class="info-label">Licence State</div><div class="info-value" id="v-dl-state">-</div></div></div></div>

                    <div class="tab-content"><div class="info-grid"><div class="info-box"><div class="info-label">Cards & Licences Info</div><div class="info-value" id="v-cards-info">-</div></div></div></div>

                    <div class="tab-content"><div class="info-grid"><div class="info-box"><div class="info-label">Forms Info</div><div class="info-value" id="v-forms-info">-</div></div></div></div>

                    <div class="tab-content"><div class="info-grid"><div class="info-box"><div class="info-label">Diplomas Info</div><div class="info-value" id="v-diplomas-info">-</div></div></div></div>

                    <div class="tab-content"><div class="info-grid"><div class="info-box"><div class="info-label">Certificates Info</div><div class="info-value" id="v-certs-info">-</div></div></div></div>

                    <div class="tab-content"><div class="info-grid"><div class="info-box"><div class="info-label">Statement of Attainment Info</div><div class="info-value" id="v-soa-info">-</div></div></div></div>

                    <div class="last-updated" id="lastUpdated">Last Updated: 16-Dec-2025</div>
                </div>
            </div>
        </div>
    </div>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üîê Login to Dashboard</h2>
                <button class="close-btn" onclick="closeLoginModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">User Role:</label>
                    <select id="loginRole" class="form-select">
                        <option value="">-- Select Role --</option>
                        <option value="readonly">Read-Only</option>
                        <option value="user">User - Edit & Update</option>
                        <option value="admin">Administrator</option>
                    </select>
                </div>
                <div class="form-group" id="passwordField" style="display: none;">
                    <label class="form-label">Password:</label>
                    <input type="password" id="loginPassword" class="form-input" placeholder="Enter password">
                    <small style="color: #999; margin-top: 5px; display: block;">User: password123 | Admin: admin123</small>
                </div>
                <div id="loginError" style="color: #c33; margin-bottom: 15px; display: none;">‚ùå Incorrect password. Please try again.</div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary" onclick="performLogin()" style="flex: 1;">Login</button>
                    <button class="btn btn-secondary" onclick="closeLoginModal()" style="flex: 1;">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div id="changeLogModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìã Change Log</h2>
                <button class="close-btn" onclick="closeChangeLog()">&times;</button>
            </div>
            <div class="modal-body">
                <p style="color: #999; text-align: center; padding: 20px;">Dashboard initialized with 25 workforce members | Last sync: 16-Dec-2025</p>
            </div>
        </div>
    </div>

    <div id="expiryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìä Expiry Reports Dashboard</h2>
                <button class="close-btn" onclick="closeExpiryReport()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Document Type:</label>
                    <select class="form-select" id="expiryDocType">
                        <option value="all">All Documents</option>
                        <option value="police">Police Checks</option>
                        <option value="insurance">Insurance</option>
                        <option value="hrw">HRW Licences</option>
                        <option value="driver">Driver's Licences</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Status Filter:</label>
                    <select class="form-select" id="expiryStatus">
                        <option value="all">All Statuses</option>
                        <option value="expired">Expired Only</option>
                        <option value="thismonth">This Month Only</option>
                        <option value="soon">Expiring Soon Only</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div id="addWorkforceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚ûï Add New Workforce Member</h2>
                <button class="close-btn" onclick="closeAddModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <button class="tab active" onclick="switchAddTab(0, this)">üìù Basic Info</button>
                    <button class="tab" onclick="switchAddTab(1, this)">üîí Police Check</button>
                    <button class="tab" onclick="switchAddTab(2, this)">üìã Insurance</button>
                    <button class="tab" onclick="switchAddTab(3, this)">‚ö†Ô∏è HRW Licence</button>
                    <button class="tab" onclick="switchAddTab(4, this)">üöó Driver Licence</button>
                    <button class="tab" onclick="switchAddTab(5, this)">üé´ Cards & Licences</button>
                    <button class="tab" onclick="switchAddTab(6, this)">üìÑ Forms</button>
                    <button class="tab" onclick="switchAddTab(7, this)">üéì Diplomas</button>
                    <button class="tab" onclick="switchAddTab(8, this)">üìú Certificates</button>
                    <button class="tab" onclick="switchAddTab(9, this)">‚úÖ Statement of Attainment</button>
                </div>
                <form id="addWorkforceForm">
                    <!-- TAB 1: BASIC INFO -->
                    <div class="tab-content active">
                        <div class="form-group">
                            <label class="form-label">First Name *</label>
                            <input type="text" id="addFirstName" class="form-input" placeholder="Enter first name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Middle Name</label>
                            <input type="text" id="addMiddleName" class="form-input" placeholder="Enter middle name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Surname *</label>
                            <input type="text" id="addSurname" class="form-input" placeholder="Enter surname" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Date of Birth (dd-mmm-yyyy)</label>
                            <input type="text" id="addDOB" class="form-input" placeholder="05-Oct-1985">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Workforce Type</label>
                            <select id="addWorkforceType" class="form-select">
                                <option value="">-- Select Type --</option>
                                <option value="Staff">Staff</option>
                                <option value="Contractor">Contractor</option>
                                <option value="Casual Employee">Casual Employee</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">State</label>
                            <select id="addState" class="form-select">
                                <option value="">-- Select State --</option>
                                <option value="NSW">NSW</option>
                                <option value="VIC">VIC</option>
                                <option value="QLD">QLD</option>
                                <option value="WA">WA</option>
                                <option value="SA">SA</option>
                                <option value="TAS">TAS</option>
                                <option value="ACT">ACT</option>
                                <option value="NT">NT</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Team Status</label>
                            <select id="addTeamStatus" class="form-select">
                                <option value="Active">Active</option>
                                <option value="Inactive">Inactive</option>
                                <option value="In Progress">In Progress</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Mobile Number</label>
                            <input type="text" id="addMobile" class="form-input" placeholder="0400-000-000">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" id="addEmail" class="form-input" placeholder="name@example.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Address</label>
                            <input type="text" id="addAddress" class="form-input" placeholder="Street address">
                        </div>
                    </div>

                    <!-- TAB 2: POLICE CHECK -->
                    <div class="tab-content">
                        <div class="form-group">
                            <label class="form-label">Police Check Status</label>
                            <select id="addPCStatus" class="form-select">
                                <option value="">-- Select Status --</option>
                                <option value="Completed">Completed</option>
                                <option value="Pending">Pending</option>
                                <option value="Expired">Expired</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Check Date (dd-mmm-yyyy)</label>
                            <input type="text" id="addPCCheckDate" class="form-input" placeholder="12-Oct-2025">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Expiry Date (dd-mmm-yyyy)</label>
                            <input type="text" id="addPCExpiryDate" class="form-input" placeholder="12-Oct-2027">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Result</label>
                            <input type="text" id="addPCResult" class="form-input" placeholder="No Disclosable Court Outcomes">
                        </div>
                    </div>

                    <!-- TAB 3: INSURANCE -->
                    <div class="tab-content">
                        <div class="form-group">
                            <label class="form-label">Indemnity Insurance</label>
                            <input type="text" id="addInsIndemnity" class="form-input" placeholder="e.g., On File">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Indemnity Policy Number</label>
                            <input type="text" id="addInsIndemnityPolicy" class="form-input" placeholder="Policy #">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Indemnity Start Date (dd-mmm-yyyy)</label>
                            <input type="text" id="addInsIndemnityStart" class="form-input" placeholder="15-Oct-2025">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Indemnity Expiry (dd-mmm-yyyy)</label>
                            <input type="text" id="addInsIndemnityExpiry" class="form-input" placeholder="15-Oct-2026">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Liability Insurance</label>
                            <input type="text" id="addInsLiability" class="form-input" placeholder="e.g., On File">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Liability Policy Number</label>
                            <input type="text" id="addInsLiabilityPolicy" class="form-input" placeholder="Policy #">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Liability Start Date (dd-mmm-yyyy)</label>
                            <input type="text" id="addInsLiabilityStart" class="form-input" placeholder="15-Oct-2025">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Liability Expiry (dd-mmm-yyyy)</label>
                            <input type="text" id="addInsLiabilityExpiry" class="form-input" placeholder="15-Oct-2026">
                        </div>
                    </div>

                    <!-- TAB 4: HRW LICENCE -->
                    <div class="tab-content">
                        <div class="form-group">
                            <label class="form-label">HRW Licence Number</label>
                            <input type="text" id="addHRWNumber" class="form-input" placeholder="HRW185591">
                        </div>
                        <div class="form-group">
                            <label class="form-label">HRW Name</label>
                            <input type="text" id="addHRWName" class="form-input" placeholder="SafeWork NSW National Licence...">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Issuing State</label>
                            <select id="addHRWState" class="form-select">
                                <option value="">-- Select State --</option>
                                <option value="NSW">NSW</option>
                                <option value="VIC">VIC</option>
                                <option value="QLD">QLD</option>
                                <option value="WA">WA</option>
                                <option value="SA">SA</option>
                                <option value="TAS">TAS</option>
                                <option value="ACT">ACT</option>
                                <option value="NT">NT</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Issue Date (dd-mmm-yyyy)</label>
                            <input type="text" id="addHRWIssueDate" class="form-input" placeholder="05-May-2009">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Expiry Date (dd-mmm-yyyy)</label>
                            <input type="text" id="addHRWExpiryDate" class="form-input" placeholder="05-May-2029">
                        </div>
                        <div class="form-group">
                            <label class="form-label">HRW Classes</label>
                            <input type="text" id="addHRWClasses" class="form-input" placeholder="LF, WP, DG">
                        </div>
                    </div>

                    
                    <!-- TAB 5: DRIVER LICENCE -->
                    <div class="tab-content">
                        <div class="form-group"><label class="form-label">Driver Licence Number</label><input type="text" id="addDL-number" class="form-input" placeholder="Enter licence number"></div>
                        <div class="form-group"><label class="form-label">State Issued</label><select id="addDL-state" class="form-select"><option value="">-- Select State --</option><option value="NSW">NSW</option><option value="VIC">VIC</option><option value="QLD">QLD</option><option value="WA">WA</option><option value="SA">SA</option><option value="TAS">TAS</option><option value="ACT">ACT</option><option value="NT">NT</option></select></div>
                        <div class="form-group"><label class="form-label">Expiry Date (dd-mmm-yyyy)</label><input type="text" id="addDL-expiry" class="form-input" placeholder="15-Dec-2029"></div>
                        <div class="form-group"><label class="form-label">Status</label><select id="addDL-status" class="form-select"><option value="">-- Select Status --</option><option value="Current">Current</option><option value="Expired">Expired</option><option value="Not on File">Not on File</option></select></div>
                    </div>

                    <!-- TAB 6: CARDS & LICENCES -->
                    <div class="tab-content">
                        <div class="form-group"><label class="form-label">Card/Licence Type</label><input type="text" id="addCL-type" class="form-input" placeholder="e.g., First Aid, White Card, etc."></div>
                        <div class="form-group"><label class="form-label">Expiry Date (dd-mmm-yyyy)</label><input type="text" id="addCL-expiry" class="form-input" placeholder="15-Dec-2026"></div>
                        <div class="form-group"><label class="form-label">Status</label><select id="addCL-status" class="form-select"><option value="">-- Select Status --</option><option value="Current">Current</option><option value="Expired">Expired</option><option value="Not on File">Not on File</option></select></div>
                    </div>

                    <!-- TAB 7: FORMS -->
                    <div class="tab-content">
                        <div class="form-group"><label class="form-label">Form Name</label><input type="text" id="addForms-name" class="form-input" placeholder="e.g., Induction Form, Declaration, etc."></div>
                        <div class="form-group"><label class="form-label">Date Completed (dd-mmm-yyyy)</label><input type="text" id="addForms-date" class="form-input" placeholder="15-Dec-2025"></div>
                        <div class="form-group"><label class="form-label">Status</label><select id="addForms-status" class="form-select"><option value="">-- Select Status --</option><option value="Completed">Completed</option><option value="Pending">Pending</option><option value="Not Required">Not Required</option></select></div>
                    </div>

                    <!-- TAB 8: DIPLOMAS -->
                    <div class="tab-content">
                        <div class="form-group"><label class="form-label">Diploma Name</label><input type="text" id="addDiploma-name" class="form-input" placeholder="e.g., Diploma of X, Advanced Diploma, etc."></div>
                        <div class="form-group"><label class="form-label">Date Issued (dd-mmm-yyyy)</label><input type="text" id="addDiploma-date" class="form-input" placeholder="15-Dec-2024"></div>
                        <div class="form-group"><label class="form-label">Status</label><select id="addDiploma-status" class="form-select"><option value="">-- Select Status --</option><option value="On File">On File</option><option value="Pending">Pending</option><option value="Not on File">Not on File</option></select></div>
                    </div>

                    <!-- TAB 9: CERTIFICATES -->
                    <div class="tab-content">
                        <div class="form-group"><label class="form-label">Certificate Name</label><input type="text" id="addCert-name" class="form-input" placeholder="e.g., Forklift Cert, WP Truck Cert, etc."></div>
                        <div class="form-group"><label class="form-label">Date Issued (dd-mmm-yyyy)</label><input type="text" id="addCert-date" class="form-input" placeholder="15-Dec-2025"></div>
                        <div class="form-group"><label class="form-label">Expiry Date (dd-mmm-yyyy)</label><input type="text" id="addCert-expiry" class="form-input" placeholder="15-Dec-2030"></div>
                        <div class="form-group"><label class="form-label">Status</label><select id="addCert-status" class="form-select"><option value="">-- Select Status --</option><option value="Current">Current</option><option value="Expired">Expired</option><option value="Not on File">Not on File</option></select></div>
                    </div>

                    <!-- TAB 10: STATEMENT OF ATTAINMENT -->
                    <div class="tab-content">
                        <div class="form-group"><label class="form-label">Unit of Competency</label><input type="text" id="addSOA-unit" class="form-input" placeholder="e.g., RIIHAN304A, RIIHAN401A, etc."></div>
                        <div class="form-group"><label class="form-label">Date Issued (dd-mmm-yyyy)</label><input type="text" id="addSOA-date" class="form-input" placeholder="15-Dec-2025"></div>
                        <div class="form-group"><label class="form-label">Status</label><select id="addSOA-status" class="form-select"><option value="">-- Select Status --</option><option value="Issued">Issued</option><option value="Pending">Pending</option><option value="Not Applicable">Not Applicable</option></select></div>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button type="button" class="btn btn-primary" onclick="saveNewWorkforce()" style="flex: 1;">Save Member</button>
                        <button type="button" class="btn btn-secondary" onclick="closeAddModal()" style="flex: 1;">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        const workforceData = [{"id":"1","firstName":"William","middleName":"James","surname":"COURTWOOD","dateOfBirth":"05-Oct-1999","workforceType":"Staff","state":"NSW","teamStatus":"Active","mobileNumber":"0478-110-660","email":"will.courtwood@gmail.com","address":"17 Aurburn Street, Parramatta NSW 2150","policeCheck":{"status":"Completed","checkDate":"12-Oct-2025","expiryDate":"12-Oct-2025","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"Staff","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"Staff","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"","name":"","state":"","issueDate":"","expiryDate":"","classes":""}},{"id":"2","firstName":"Trevor","middleName":"Mark","surname":"ALDRED","dateOfBirth":"13-May-1961","workforceType":"Contractor","state":"NSW","teamStatus":"Active","mobileNumber":"0421-086-932","email":"trevmarka@gmail.com","address":"7 Shannon Parade, Berkely Vale NSW 2261","policeCheck":{"status":"Completed","checkDate":"09-Feb-2016","expiryDate":"09-Feb-2018","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"Casual Employee","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"Casual Employee","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"HRW185591","name":"SafeWork NSW National Licence to Perform High Risk Work","state":"NSW","issueDate":"05-May-2009","expiryDate":"05-May-2029","classes":"LF"}},{"id":"3","firstName":"Trinden","middleName":"Janet","surname":"EDWARD-FORD","dateOfBirth":"21-Feb-1986","workforceType":"Contractor","state":"WA","teamStatus":"Active","mobileNumber":"","email":"tnetraining@gmail.com","address":"5 Burabur Street, Gosnells WA 6110","policeCheck":{"status":"","checkDate":"","expiryDate":"","result":""},"insurance":{"indemnity":"On File","indemnityPolicy":"IMO131A7F335","indemnityStart":"15-Oct-2025","indemnityExpiry":"15-Oct-2026","liability":"On File","liabilityPolicy":"IMO131A7F335","liabilityStart":"15-Oct-2025","liabilityExpiry":"15-Oct-2026"},"hrwLicence":{"number":"WL921507","name":"WorkSafe WA Licence to Perform High Risk Work","state":"WA","issueDate":"01-Sep-2025","expiryDate":"01-Sep-2030","classes":"CV, LF"}},{"id":"4","firstName":"Ross","middleName":"","surname":"BEECHING","dateOfBirth":"20-Nov-1983","workforceType":"Contractor","state":"NSW","teamStatus":"Active","mobileNumber":"0402-583-932","email":"ross@rastraining.com.au","address":"19 Kelly Circle, Rutherford NSW 2320","policeCheck":{"status":"Completed","checkDate":"31-Oct-2025","expiryDate":"31-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"AU00070942-000","indemnityStart":"31-Jan-2025","indemnityExpiry":"31-Jan-2026","liability":"On File","liabilityPolicy":"AU00080943-000","liabilityStart":"31-Jan-2025","liabilityExpiry":"31-Jan-2026"},"hrwLicence":{"number":"HRW971914","name":"SafeWork NSW National Licence to Perform High Risk Work","state":"NSW","issueDate":"03-Apr-2023","expiryDate":"03-Apr-2028","classes":"LF, WP"}},{"id":"5","firstName":"Renan","middleName":"Varella","surname":"VIEIRA","dateOfBirth":"14-Feb-1983","workforceType":"Contractor","state":"NSW","teamStatus":"Active","mobileNumber":"0424-548-487","email":"renan@safetyaustraliatraining.com.au","address":"1 Drummond Road, Oyster Bay NSW 2225","policeCheck":{"status":"Completed","checkDate":"13-Oct-2025","expiryDate":"13-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"SOB/39062/000/25/P","indemnityStart":"12-Sep-2025","indemnityExpiry":"12-Sep-2026","liability":"On File","liabilityPolicy":"PB/39062/000/25/P","liabilityStart":"12-Sep-2025","liabilityExpiry":"12-Sep-2026"},"hrwLicence":{"number":"HRW865659","name":"SafeWork NSW National Licence to Perform High Risk Work","state":"NSW","issueDate":"02-Jul-2020","expiryDate":"03-Jul-2030","classes":"DG, LF, RB, WP"}},{"id":"6","firstName":"Andrew","middleName":"B","surname":"HALL","dateOfBirth":"15-Apr-1968","workforceType":"Staff","state":"VIC","teamStatus":"Active","mobileNumber":"0411-947-620","email":"threehalfbricks@gmail.com","address":"Unit 4/65 Herbert Street, Mornington NSW 3139","policeCheck":{"status":"Completed","checkDate":"17-Oct-2025","expiryDate":"17-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"Staff","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"Staff","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"01510562744","name":"WorkSafe Licence to Perform High Risk Work","state":"VIC","issueDate":"21-Dec-2022","expiryDate":"21-Dec-2027","classes":"LF"}},{"id":"7","firstName":"Glenn","middleName":"Michael","surname":"CHEESEMAN","dateOfBirth":"07-May-1960","workforceType":"Contractor","state":"QLD","teamStatus":"Active","mobileNumber":"0437-392-964","email":"glennc427@gmail.com","address":"173 Coonowrin Road, Glass House Mountains QLD 4518","policeCheck":{"status":"Completed","checkDate":"20-Oct-2025","expiryDate":"20-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"P00423243","indemnityStart":"08-Oct-2025","indemnityExpiry":"08-Oct-2026","liability":"On File","liabilityPolicy":"P00423243","liabilityStart":"08-Oct-2025","liabilityExpiry":"08-Oct-2026"},"hrwLicence":{"number":"000359942001","name":"Licence to Perform High Risk Work- QLD","state":"QLD","issueDate":"17-Oct-2025","expiryDate":"17-Oct-2030","classes":"LF"}},{"id":"8","firstName":"Andrew","middleName":"John","surname":"SHRUTT-SHOTTON","dateOfBirth":"12-May-1966","workforceType":"Contractor","state":"QLD","teamStatus":"Active","mobileNumber":"0423-211-100","email":"andy@tekneek.com.au","address":"7a Yoomba Crescent, Alexander Headlands QLD 4572","policeCheck":{"status":"Completed","checkDate":"08-Oct-2025","expiryDate":"08-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"PSN0040164966","indemnityStart":"30-Nov-2024","indemnityExpiry":"30-Nov-2025","liability":"On File","liabilityPolicy":"124U342200BPK","liabilityStart":"31-Oct-2024","liabilityExpiry":"31-Oct-2025"},"hrwLicence":{"number":"HRW105137","name":"SafeWork NSW National Licence to Perform High Risk Work","state":"NSW","issueDate":"09-Sep-2008","expiryDate":"09-Sep-2028","classes":"LF, LO, WP"}},{"id":"9","firstName":"Adam","middleName":"John","surname":"CUMPSTY","dateOfBirth":"16-Jun-1981","workforceType":"Casual Employee","state":"WA","teamStatus":"Active","mobileNumber":"0413-560-654","email":"actrainingsolutions@gmail.com","address":"17 Springveiw Circle, Bennett Springs WA 6063","policeCheck":{"status":"Completed","checkDate":"09-Oct-2025","expiryDate":"09-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"AU00022515-003","indemnityStart":"30-Jun-2025","indemnityExpiry":"30-Jun-2026","liability":"On File","liabilityPolicy":"78 TRANZNT LIA","liabilityStart":"30-Jun-2025","liabilityExpiry":"30-Jun-2026"},"hrwLicence":{"number":"WL610910","name":"WorkSafe Licence to Perform High Risk Work- WA","state":"WA","issueDate":"21-Apr-2025","expiryDate":"21-Apr-2030","classes":"LF LO WP"}},{"id":"10","firstName":"David","middleName":"Craig","surname":"FRASER","dateOfBirth":"09-Dec-1968","workforceType":"Contractor","state":"NSW","teamStatus":"Active","mobileNumber":"0419-018-585","email":"david@rocksolidtraining.com.au","address":"15 Lighthorse Drive, Woonona NSW 2517","policeCheck":{"status":"Completed","checkDate":"17-Oct-2025","expiryDate":"17-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"AU00022599-003","indemnityStart":"30-Jun-2025","indemnityExpiry":"30-Jun-2026","liability":"On File","liabilityPolicy":"78 TRANZNT LIA","liabilityStart":"30-Jun-2025","liabilityExpiry":"30-Jun-2026"},"hrwLicence":{"number":"HRW798905","name":"SafeWork NSW National Licence to Perform High Risk Work","state":"NSW","issueDate":"04-Jun-2018","expiryDate":"04-Jun-2028","classes":"LF, WP, C2, DG, HP"}},{"id":"11","firstName":"Devjit","middleName":"Singh","surname":"LOOMBA","dateOfBirth":"10-Jan-1970","workforceType":"Staff","state":"QLD","teamStatus":"Active","mobileNumber":"0452-284-270","email":"devjitloomba@yahoo.com","address":"80 Parklan Drive, Walloon QLD 4306","policeCheck":{"status":"Completed","checkDate":"10-Oct-2025","expiryDate":"10-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"Staff","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"Staff","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"000355733001","name":"Licence to Perform High Risk Work- Qld","state":"QLD","issueDate":"19-Jul-2024","expiryDate":"19-Jul-2029","classes":"LF"}},{"id":"12","firstName":"Miler","middleName":"","surname":"MAKSIMOVIC","dateOfBirth":"23-Aug-1972","workforceType":"Contractor","state":"VIC","teamStatus":"Active","mobileNumber":"0419-569-917","email":"milerm@live.com.au","address":"54 Powlett Street, Altona Meadows VIC 3028","policeCheck":{"status":"Completed","checkDate":"09-Oct-2025","expiryDate":"09-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"On File","liabilityPolicy":"OA49823462","liabilityStart":"03-Nov-2023","liabilityExpiry":"02-Nov-2024"},"hrwLicence":{"number":"0150078166","name":"WorkSafe Licence to Perform High Risk Work","state":"VIC","issueDate":"25-Mar-2024","expiryDate":"24-Mar-2029","classes":"LF, WP"}},{"id":"13","firstName":"Anthony","middleName":"James","surname":"MCIVER","dateOfBirth":"26-Jan-1964","workforceType":"Contractor","state":"SA","teamStatus":"Active","mobileNumber":"0413-77-812","email":"milerm@live.com.au","address":"45 Corunna Avenue, Colonel Light Gardens SA 5041","policeCheck":{"status":"Completed","checkDate":"06-May-2025","expiryDate":"06-May-2027","result":"Requires additional Action"},"insurance":{"indemnity":"On File","indemnityPolicy":"201805-1317 R7 BIA","indemnityStart":"31-Jul-2025","indemnityExpiry":"31-Jul-2026","liability":"On File","liabilityPolicy":"201805-1317 R7 BIA","liabilityStart":"31-Jul-2025","liabilityExpiry":"31-Jul-2026"},"hrwLicence":{"number":"638287","name":"Licence to Perform High Risk Work - SA","state":"SA","issueDate":"24-Feb-2022","expiryDate":"23-Feb-2027","classes":"LF"}},{"id":"14","firstName":"Darby","middleName":"Thomas","surname":"HAMMONDS","dateOfBirth":"04-Jul-1990","workforceType":"Contractor","state":"NSW","teamStatus":"Active","mobileNumber":"0438-223-407","email":"darby.hammonds@gmail.com","address":"9 Wandu Road, Crangan NSW 2259","policeCheck":{"status":"Completed","checkDate":"05-Aug-2024","expiryDate":"05-Aug-2026","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"AU00081174-000","indemnityStart":"10-Feb-2025","indemnityExpiry":"10-Feb-2026","liability":"On File","liabilityPolicy":"AU00081175-000","liabilityStart":"10-Feb-2025","liabilityExpiry":"10-Feb-2026"},"hrwLicence":{"number":"HRW282718","name":"SafeWork NSW National Licence to Perform High Risk Work","state":"NSW","issueDate":"30-Apr-2010","expiryDate":"30-Apr-2030","classes":"DG, LF, WP"}},{"id":"15","firstName":"Kerily","middleName":"Enid","surname":"JAMIESON","dateOfBirth":"22-Sep-1964","workforceType":"Contractor","state":"TAS","teamStatus":"Active","mobileNumber":"0400-634-465","email":"kerily@iinet.net.au","address":"160 Caroline Street, Devonport TAS 7310","policeCheck":{"status":"Completed","checkDate":"15-Oct-2025","expiryDate":"15-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"AU00022562-003","indemnityStart":"30-Jun-2025","indemnityExpiry":"30-Jun-2026","liability":"On File","liabilityPolicy":"78 TRANZNT LIA","liabilityStart":"30-Jun-2025","liabilityExpiry":"30-Jun-2026"},"hrwLicence":{"number":"677492","name":"Licence to Perform High Risk Work- TAS","state":"TAS","issueDate":"20-Jun-2023","expiryDate":"20-Jun-2028","classes":"LF, LO"}},{"id":"16","firstName":"David","middleName":"Anthony","surname":"JOSEPH","dateOfBirth":"29-Apr-1966","workforceType":"Contractor","state":"NSW","teamStatus":"Active","mobileNumber":"0419-627-668","email":"djoseph747@gmail.com","address":"2A Phillip Street, South Coogee NSW 2035","policeCheck":{"status":"Completed","checkDate":"18-Oct-2025","expiryDate":"18-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"HRW295493","name":"SafeWork NSW National Licence to Perform High Risk Work","state":"NSW","issueDate":"10-Feb-2011","expiryDate":"10-Feb-2026","classes":"LF WP"}},{"id":"17","firstName":"Michael","middleName":"","surname":"LANGLEY","dateOfBirth":"17-Aug-1964","workforceType":"Contractor","state":"NSW","teamStatus":"In Progress","mobileNumber":"0401-071-361","email":"michaellangleyjp@gmail.com","address":"69 Kingswood Road, Engadine NSW 2233","policeCheck":{"status":"","checkDate":"","expiryDate":"","result":""},"insurance":{"indemnity":"","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"","name":"","state":"","issueDate":"","expiryDate":"","classes":""}},{"id":"18","firstName":"Jason","middleName":"Mark","surname":"EDWARDS","dateOfBirth":"04-Jul-1972","workforceType":"Contractor","state":"NSW","teamStatus":"Inactive","mobileNumber":"0401-360-997","email":"jason@elevatedtraining.com.au","address":"86 Dry Dock Road, Tweed Heads South NSW 2486","policeCheck":{"status":"Completed","checkDate":"","expiryDate":"","result":""},"insurance":{"indemnity":"","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"000303765404","name":"Licence to Perform High Risk Work- QLD","state":"QLD","issueDate":"01-Jul-2009","expiryDate":"01-Jul-2024","classes":"LF LO"}},{"id":"19","firstName":"Melvin","middleName":"Douglas","surname":"WILSON","dateOfBirth":"24-Jan-1971","workforceType":"Contractor","state":"VIC","teamStatus":"Active","mobileNumber":"0400-888-816","email":"pomechef@bigpond.com","address":"8 Jacka Road, Avonsleigh VIC 3782","policeCheck":{"status":"Completed","checkDate":"23-Feb-2024","expiryDate":"23-Feb-2026","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"SOB/12846/000/25/p","indemnityStart":"22-Mar-2025","indemnityExpiry":"22-Mar-2026","liability":"On File","liabilityPolicy":"18U276700BPK","liabilityStart":"22-Mar-2025","liabilityExpiry":"22-Mar-2026"},"hrwLicence":{"number":"0150594737","name":"WorkSafe Licence to Perform High Risk Work","state":"VIC","issueDate":"26-Oct-2023","expiryDate":"25-Oct-2028","classes":"LF"}},{"id":"20","firstName":"David","middleName":"William Laurence","surname":"ADAM","dateOfBirth":"12-Mar-1960","workforceType":"Contractor","state":"NSW","teamStatus":"Active","mobileNumber":"0409-992-215","email":"auskie1@optusnet.com.au","address":"23 Picasso Cresent, Old Toongabbie NSW 2146","policeCheck":{"status":"Completed","checkDate":"13-Oct-2025","expiryDate":"13-Oct-2027","result":"No Disclosable Court Outcomes"},"insurance":{"indemnity":"On File","indemnityPolicy":"AU00022515-003","indemnityStart":"30-Jun-2025","indemnityExpiry":"30-Jun-2026","liability":"On File","liabilityPolicy":"78 TRANZNT LIA","liabilityStart":"30-Jun-2025","liabilityExpiry":"30-Jun-2026"},"hrwLicence":{"number":"HRW047164","name":"SafeWork NSW National Licence to Perform High Risk Work","state":"NSW","issueDate":"20-Dec-2007","expiryDate":"20-Dec-2027","classes":"WP LF LO HP"}},{"id":"21","firstName":"David","middleName":"","surname":"PAGANO","dateOfBirth":"","workforceType":"","state":"","teamStatus":"","mobileNumber":"","email":"","address":"","policeCheck":{"status":"","checkDate":"","expiryDate":"","result":""},"insurance":{"indemnity":"","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"","name":"","state":"","issueDate":"","expiryDate":"","classes":""}},{"id":"22","firstName":"Peter","middleName":"","surname":"TSOURIS","dateOfBirth":"","workforceType":"","state":"","teamStatus":"","mobileNumber":"","email":"","address":"","policeCheck":{"status":"","checkDate":"","expiryDate":"","result":""},"insurance":{"indemnity":"","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"","name":"","state":"","issueDate":"","expiryDate":"","classes":""}},{"id":"23","firstName":"Gavin","middleName":"","surname":"BENSLEY","dateOfBirth":"","workforceType":"","state":"","teamStatus":"","mobileNumber":"","email":"","address":"","policeCheck":{"status":"","checkDate":"","expiryDate":"","result":""},"insurance":{"indemnity":"","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"","name":"","state":"","issueDate":"","expiryDate":"","classes":""}},{"id":"24","firstName":"Roberto","middleName":"","surname":"LARRONDO","dateOfBirth":"","workforceType":"","state":"","teamStatus":"","mobileNumber":"","email":"","address":"","policeCheck":{"status":"","checkDate":"","expiryDate":"","result":""},"insurance":{"indemnity":"","indemnityPolicy":"","indemnityStart":"","indemnityExpiry":"","liability":"","liabilityPolicy":"","liabilityStart":"","liabilityExpiry":""},"hrwLicence":{"number":"","name":"","state":"","issueDate":"","expiryDate":"","classes":""}}];

        let currentUser = null;
        let currentStaff = null;

        function init() {
            populateStaffSelector();
        }

        function populateStaffSelector() {
            const selector = document.getElementById('staffSelector');
            selector.innerHTML = '<option value="">-- Select Staff Member --</option>';
            workforceData.forEach(member => {
                const option = document.createElement('option');
                option.value = member.id;
                option.textContent = `${member.firstName} ${member.surname} (${member.state || 'N/A'})`;
                selector.appendChild(option);
            });
        }

        function loadStaffMember() {
            const memberId = document.getElementById('staffSelector').value;
            if (!memberId) {
                document.getElementById('emptyState').style.display = 'block';
                document.getElementById('staffDetails').style.display = 'none';
                return;
            }
            currentStaff = workforceData.find(m => m.id === memberId);
            displayStaffDetails();
        }

        function displayStaffDetails() {
            document.getElementById('emptyState').style.display = 'none';
            document.getElementById('staffDetails').style.display = 'block';

            document.getElementById('staffName').textContent = `${currentStaff.firstName} ${currentStaff.surname}`;
            document.getElementById('v-firstName').textContent = currentStaff.firstName || '-';
            document.getElementById('v-middleName').textContent = currentStaff.middleName || '-';
            document.getElementById('v-surname').textContent = currentStaff.surname || '-';
            document.getElementById('v-dateOfBirth').textContent = currentStaff.dateOfBirth || '-';
            document.getElementById('v-workforceType').textContent = currentStaff.workforceType || '-';
            document.getElementById('v-state').textContent = currentStaff.state || '-';
            document.getElementById('v-teamStatus').innerHTML = currentStaff.teamStatus ? `<span class="status-badge status-${currentStaff.teamStatus.toLowerCase()}">${currentStaff.teamStatus}</span>` : '-';
            document.getElementById('v-mobileNumber').textContent = currentStaff.mobileNumber || '-';
            document.getElementById('v-email').textContent = currentStaff.email || '-';
            document.getElementById('v-address').textContent = currentStaff.address || '-';

            document.getElementById('v-pc-status').textContent = currentStaff.policeCheck?.status || '-';
            document.getElementById('v-pc-checkDate').textContent = currentStaff.policeCheck?.checkDate || '-';
            document.getElementById('v-pc-expiryDate').textContent = currentStaff.policeCheck?.expiryDate || '-';
            document.getElementById('v-pc-result').textContent = currentStaff.policeCheck?.result || '-';

            document.getElementById('v-ins-indemnity').textContent = currentStaff.insurance?.indemnity || '-';
            document.getElementById('v-ins-indemnity-policy').textContent = currentStaff.insurance?.indemnityPolicy || '-';
            document.getElementById('v-ins-indemnity-start').textContent = currentStaff.insurance?.indemnityStart || '-';
            document.getElementById('v-ins-indemnity-expiry').textContent = currentStaff.insurance?.indemnityExpiry || '-';
            document.getElementById('v-ins-liability').textContent = currentStaff.insurance?.liability || '-';
            document.getElementById('v-ins-liability-policy').textContent = currentStaff.insurance?.liabilityPolicy || '-';
            document.getElementById('v-ins-liability-start').textContent = currentStaff.insurance?.liabilityStart || '-';
            document.getElementById('v-ins-liability-expiry').textContent = currentStaff.insurance?.liabilityExpiry || '-';

            document.getElementById('v-hrw-number').textContent = currentStaff.hrwLicence?.number || '-';
            document.getElementById('v-hrw-name').textContent = currentStaff.hrwLicence?.name || '-';
            document.getElementById('v-hrw-state').textContent = currentStaff.hrwLicence?.state || '-';
            document.getElementById('v-hrw-issueDate').textContent = currentStaff.hrwLicence?.issueDate || '-';
            document.getElementById('v-hrw-expiryDate').textContent = currentStaff.hrwLicence?.expiryDate || '-';
            document.getElementById('v-hrw-classes').textContent = currentStaff.hrwLicence?.classes || '-';

            document.getElementById('v-dl-number').textContent = '-';
            document.getElementById('v-dl-state').textContent = '-';
            document.getElementById('v-cards-info').textContent = 'Cards & Licences data from Excel file';
            document.getElementById('v-forms-info').textContent = 'Forms data from Excel file';
            document.getElementById('v-diplomas-info').textContent = 'Diplomas data from Excel file';
            document.getElementById('v-certs-info').textContent = 'Certificates data from Excel file';
            document.getElementById('v-soa-info').textContent = 'Statement of Attainment data from Excel file';

            document.getElementById('lastUpdated').textContent = 'Last Updated: 16-Dec-2025';
        }

        function switchTab(index, element) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');
            tabs.forEach(t => t.classList.remove('active'));
            contents.forEach(c => c.classList.remove('active'));
            element.classList.add('active');
            contents[index].classList.add('active');
        }

        function openLoginModal() {
            document.getElementById('loginModal').classList.add('show');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('show');
        }

        document.getElementById('loginRole').addEventListener('change', function() {
            document.getElementById('passwordField').style.display = this.value && this.value !== 'readonly' ? 'block' : 'none';
        });

        function performLogin() {
            const role = document.getElementById('loginRole').value;
            const password = document.getElementById('loginPassword').value;
            const errorDiv = document.getElementById('loginError');

            if (!role) {
                errorDiv.textContent = '‚ùå Please select a role.';
                errorDiv.style.display = 'block';
                return;
            }

            if (role === 'readonly') {
                currentUser = { role: 'readonly' };
                updateLoginStatus();
                closeLoginModal();
            } else if (role === 'user' && password === 'password123') {
                currentUser = { role: 'user', name: 'User' };
                updateLoginStatus();
                closeLoginModal();
            } else if (role === 'admin' && password === 'admin123') {
                currentUser = { role: 'admin', name: 'Administrator' };
                updateLoginStatus();
                closeLoginModal();
            } else {
                errorDiv.style.display = 'block';
            }
        }

        function updateLoginStatus() {
            const statusDiv = document.getElementById('loginStatus');
            if (currentUser.role === 'readonly') {
                statusDiv.innerHTML = 'üëÅÔ∏è Read-Only Mode';
            } else if (currentUser.role === 'user') {
                statusDiv.innerHTML = '‚úèÔ∏è Edit & Update Mode';
            } else {
                statusDiv.innerHTML = 'üîë Administrator Mode';
            }
            statusDiv.classList.add('authenticated');
        }

        function openAddModal() {
            if (!currentUser) {
                alert('‚ùå Please login first.');
                return;
            }
            if (currentUser.role === 'readonly') {
                alert('‚ùå Read-only mode: Cannot add members. Please login as Administrator.');
                return;
            }
            document.getElementById('addWorkforceModal').classList.add('show');
            switchAddTab(0, document.querySelector('#addWorkforceModal .tab'));
        }

        function closeAddModal() {
            document.getElementById('addWorkforceModal').classList.remove('show');
            document.getElementById('addWorkforceForm').reset();
        }

        function switchAddTab(index, element) {
            const tabs = document.querySelectorAll('#addWorkforceModal .tab');
            const contents = document.querySelectorAll('#addWorkforceModal .tab-content');
            tabs.forEach(t => t.classList.remove('active'));
            contents.forEach(c => c.classList.remove('active'));
            tabs[index].classList.add('active');
            contents[index].classList.add('active');
        }

        function saveNewWorkforce() {
            const firstName = document.getElementById('addFirstName').value.trim();
            const surname = document.getElementById('addSurname').value.trim();
            
            if (!firstName || !surname) {
                alert('‚ùå First Name and Surname are required.');
                return;
            }

            const newMember = {
                id: String(workforceData.length + 1),
                firstName: firstName,
                middleName: document.getElementById('addMiddleName').value.trim(),
                surname: surname,
                dateOfBirth: document.getElementById('addDOB').value || '',
                workforceType: document.getElementById('addWorkforceType').value || '',
                state: document.getElementById('addState').value || '',
                teamStatus: document.getElementById('addTeamStatus').value || 'Active',
                mobileNumber: document.getElementById('addMobile').value.trim() || '',
                email: document.getElementById('addEmail').value.trim() || '',
                address: document.getElementById('addAddress').value.trim() || '',
                policeCheck: {
                    status: document.getElementById('addPCStatus').value || '',
                    checkDate: document.getElementById('addPCCheckDate').value || '',
                    expiryDate: document.getElementById('addPCExpiryDate').value || '',
                    result: document.getElementById('addPCResult').value.trim() || ''
                },
                insurance: {
                    indemnity: document.getElementById('addInsIndemnity').value.trim() || '',
                    indemnityPolicy: document.getElementById('addInsIndemnityPolicy').value.trim() || '',
                    indemnityStart: document.getElementById('addInsIndemnityStart').value || '',
                    indemnityExpiry: document.getElementById('addInsIndemnityExpiry').value || '',
                    liability: document.getElementById('addInsLiability').value.trim() || '',
                    liabilityPolicy: document.getElementById('addInsLiabilityPolicy').value.trim() || '',
                    liabilityStart: document.getElementById('addInsLiabilityStart').value || '',
                    liabilityExpiry: document.getElementById('addInsLiabilityExpiry').value || ''
                },
                hrwLicence: {
                    number: document.getElementById('addHRWNumber').value.trim() || '',
                    name: document.getElementById('addHRWName').value.trim() || '',
                    state: document.getElementById('addHRWState').value || '',
                    issueDate: document.getElementById('addHRWIssueDate').value || '',
                    expiryDate: document.getElementById('addHRWExpiryDate').value || '',
                    classes: document.getElementById('addHRWClasses').value.trim() || ''
                },
                driverLicence: {
                    number: document.getElementById('addDL-number').value.trim() || '',
                    state: document.getElementById('addDL-state').value || '',
                    expiryDate: document.getElementById('addDL-expiry').value || '',
                    status: document.getElementById('addDL-status').value || ''
                },
                cardsLicences: {
                    type: document.getElementById('addCL-type').value.trim() || '',
                    expiryDate: document.getElementById('addCL-expiry').value || '',
                    status: document.getElementById('addCL-status').value || ''
                },
                forms: {
                    name: document.getElementById('addForms-name').value.trim() || '',
                    dateCompleted: document.getElementById('addForms-date').value || '',
                    status: document.getElementById('addForms-status').value || ''
                },
                diplomas: {
                    name: document.getElementById('addDiploma-name').value.trim() || '',
                    dateIssued: document.getElementById('addDiploma-date').value || '',
                    status: document.getElementById('addDiploma-status').value || ''
                },
                certificates: {
                    name: document.getElementById('addCert-name').value.trim() || '',
                    dateIssued: document.getElementById('addCert-date').value || '',
                    expiryDate: document.getElementById('addCert-expiry').value || '',
                    status: document.getElementById('addCert-status').value || ''
                },
                statementOfAttainment: {
                    unitCode: document.getElementById('addSOA-unit').value.trim() || '',
                    dateIssued: document.getElementById('addSOA-date').value || '',
                    status: document.getElementById('addSOA-status').value || ''
                }
            };

            workforceData.push(newMember);
            populateStaffSelector();
            closeAddModal();
            alert(`‚úÖ ${firstName} ${surname} added successfully!`);
        }

        function openDeleteModal() {
            alert(!currentUser ? 'Please login first.' : currentUser.role !== 'admin' ? 'Only administrators can delete.' : 'Delete Member - Admin only');
        }

        function showChangeLog() {
            document.getElementById('changeLogModal').classList.add('show');
        }

        function closeChangeLog() {
            document.getElementById('changeLogModal').classList.remove('show');
        }

        function showExpiryReport() {
            document.getElementById('expiryModal').classList.add('show');
        }

        function closeExpiryReport() {
            document.getElementById('expiryModal').classList.remove('show');
        }

        // Close modal only when clicking on the backdrop (the gray area), not the content
        document.getElementById('loginModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('loginModal')) {
                closeLoginModal();
            }
        });
        document.getElementById('changeLogModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('changeLogModal')) {
                closeChangeLog();
            }
        });
        document.getElementById('expiryModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('expiryModal')) {
                closeExpiryReport();
            }
        });
        document.getElementById('addWorkforceModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('addWorkforceModal')) {
                closeAddModal();
            }
        });

        init();
    </script>
</body>
</html>
